{% extends "base.html" %}
{% block content %}

<h2>Password-Protected Message Panel</h2>

<p>Select a user to view their messages:</p>

<a class="protected-btn" href="{{ url_for('protected_user', user_id='1') }}">Chris Messages</a><br>
<a class="protected-btn" href="{{ url_for('protected_user', user_id='2') }}">Brendan Messages</a><br>
<a class="protected-btn" href="{{ url_for('protected_user', user_id='3') }}">Freya Messages</a><br>
<a class="protected-btn" href="{{ url_for('protected_user', user_id='4') }}">Adam Messages</a>

<!-- Prevent Back-Forward Cache -->
<script>
    // Works in all major browsers
    window.addEventListener("pageshow", function (event) {
        if (event.persisted) {
            // Page was restored from bfcache â†’ force reload
            window.location.reload();
        }
    });
</script>

{% endblock %}